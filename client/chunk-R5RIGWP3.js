import{$ as m,E as l,G as f,H as x,R as T,S as b,U as h,V as C,Ya as S,_ as r,aa as E,ea as g,ha as p,ia as a,oa as _,pa as I,ra as y,t as c,u as d,xa as v}from"./chunk-F77CFND7.js";var M=(o,t)=>t.id;function F(o,t){if(o&1){let e=g();r(0,"div",2),p("mouseenter",function(s){let n=c(e).$implicit,u=a(2);return d(u.onMouseEnter(s,n))})("mouseleave",function(s){let n=c(e).$implicit,u=a(2);return d(u.onMouseLeave(s,n))}),r(1,"div",3),E(2,"div"),r(3,"div",4)(4,"p",5),I(5),m()(),r(6,"button",6),p("click",function(){let s=c(e).$implicit,n=a(2);return d(n.removeToaster(s))}),m()()()}if(o&2){let e=t.$implicit;_(v("toast show bg-white rounded-3 p-2 border border-",e.type," border-opacity-25")),l(2),_(v("bg-",e.type," ps-1 align-self-stretch rounded")),l(3),y(" ",e==null?null:e.message," ")}}function $(o,t){if(o&1&&(r(0,"div",0),h(1,F,7,7,"div",1,M),m()),o&2){let e=a();l(),C(e.toasters)}}var w=class o{constructor(t){this._coreService=t;this._coreService.utils.toasters$.subscribe({next:e=>{e.id=`toaster-${Math.random().toString(36).substring(2,9)}`,e.timeoutId=setTimeout(()=>{this.removeToaster(e)},e.duration||6e3),this.toasters.push(e)}}),this._coreService.utils.clearToasters$.subscribe({next:e=>{e&&(this.toasters.forEach(i=>{i&&i.timeoutId&&clearTimeout(i.timeoutId)}),this.toasters=[])}})}toasters=[];onMouseEnter(t,e){t.stopPropagation(),e&&e.timeoutId&&(clearTimeout(e.timeoutId),e.timeoutId=null)}onMouseLeave(t,e){t.stopPropagation(),e&&!e.timeoutId&&(e.timeoutId=setTimeout(()=>{this.removeToaster(e)},2500))}removeToaster(t){let e=this.toasters.findIndex(i=>i.id===t.id);this.toasters.splice(e,1),t&&t.timeoutId&&clearTimeout(t.timeoutId)}static \u0275fac=function(e){return new(e||o)(f(S))};static \u0275cmp=x({type:o,selectors:[["app-toaster"]],decls:1,vars:1,consts:[[1,"toast-container","position-fixed","end-0","p-3",2,"top","80px"],["role","alert","aria-live","assertive","aria-atomic","true",3,"class"],["role","alert","aria-live","assertive","aria-atomic","true",3,"mouseenter","mouseleave"],[1,"d-flex"],[1,"toast-body","flex-grow-1","align-self-stretch","p-2"],[1,"message","m-0"],["type","button","data-bs-dismiss","toast","aria-label","Close",1,"btn-close","flex-shrink-0","p-0",3,"click"]],template:function(e,i){e&1&&T(0,$,3,0,"div",0),e&2&&b(i.toasters.length?0:-1)},encapsulation:2})};export{w as a};
