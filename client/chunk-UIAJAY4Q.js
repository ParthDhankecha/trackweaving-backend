import{$ as z,$a as pe,A as te,B as w,Ba as D,D as M,E as h,Ea as le,G as ne,H as A,I as y,J as x,L,M as b,N as P,O as u,P as s,Q as l,R as ie,S,T as E,U as H,Va as ce,X as T,Y as f,Z as Q,_ as g,aa as a,bb as W,da as j,db as q,ea as G,fa as U,ga as v,ia as O,ja as oe,jb as me,ka as k,kb as de,la as p,lb as ue,ma as ae,na as C,ob as R,p as m,pa as F,q as d,qa as B,r as I,ra as N,s as V,u as K,w as Y,wa as Z,y as r,ya as re,z as ee,za as se}from"./chunk-AKGLJKXW.js";var xe=["searchInputWrapRef"],Se=["searchInput"],$=class n{constructor(t){this._renderer2=t}placeholder="Search...";searchTerms="";debounceTime=300;ngStyles={};onSearch=new h;onclick=new h;searchInputDebounceId;searchInputWrap;searchInput;handleKeydown(t){(t.metaKey||t.ctrlKey)&&t.key==="1"&&(t.preventDefault(),this.focusSearchInput())}ngOnInit(){}ngAfterViewInit(){this.updateStyles()}updateStyles(){if(this.searchInputWrap.nativeElement&&typeof this.ngStyles=="object"&&this.ngStyles!==null)for(let t in this.ngStyles){let e=this.ngStyles[t];if(Array.isArray(e)&&e.length>0){let i=this.searchInputWrap.nativeElement;if(t!=="self"&&(i=this.searchInputWrap.nativeElement.querySelector(t)),i)for(let o of e){let[c,_]=o.split(":").map(Ce=>Ce.trim());c&&_&&this._renderer2.setStyle(i,c,_)}}}}focusSearchInput(t){t?.stopPropagation(),this.searchInput.nativeElement?.focus(),this.onclick.emit(t)}onSearchTerms(t){this.searchInputDebounceId&&clearTimeout(this.searchInputDebounceId),this.searchInputDebounceId=setTimeout(()=>{this.onSearch.emit(this.searchTerms)},t?this.debounceTime:0)}static \u0275fac=function(e){return new(e||n)(te(ee))};static \u0275cmp=w({type:n,selectors:[["app-search-input"]],viewQuery:function(e,i){if(e&1&&(j(xe,5),j(Se,5)),e&2){let o;G(o=U())&&(i.searchInputWrap=o.first),G(o=U())&&(i.searchInput=o.first)}},hostBindings:function(e,i){e&1&&g("keydown",function(c){return i.handleKeydown(c)},Y)},inputs:{placeholder:"placeholder",searchTerms:"searchTerms",debounceTime:"debounceTime",ngStyles:[0,"styles","ngStyles"]},outputs:{onSearch:"onSearch",onclick:"onClick"},decls:6,vars:2,consts:[["searchInputWrapRef",""],["searchInput",""],[1,"search-input-wrap",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","viewBox","0 0 16 16","fill","none",1,"search-icon"],["d","M7.4 2C10.3808 2 12.8 4.4192 12.8 7.4C12.8 10.3808 10.3808 12.8 7.4 12.8C4.4192 12.8 2 10.3808 2 7.4C2 4.4192 4.4192 2 7.4 2ZM7.4 11.6C9.7202 11.6 11.6 9.7202 11.6 7.4C11.6 5.0792 9.7202 3.2 7.4 3.2C5.0792 3.2 3.2 5.0792 3.2 7.4C3.2 9.7202 5.0792 11.6 7.4 11.6ZM12.491 11.6426L14.1884 13.3394L13.3394 14.1884L11.6426 12.491L12.491 11.6426Z","fill","#A3A3A3"],["type","text","name","searchTerms",1,"search-input",3,"ngModelChange","ngModel","placeholder"]],template:function(e,i){if(e&1){let o=f();s(0,"div",2,0),g("click",function(_){return m(o),d(i.focusSearchInput(_))}),I(),s(2,"svg",3),ie(3,"path",4),l(),V(),s(4,"input",5,1),N("ngModelChange",function(_){return m(o),B(i.searchTerms,_)||(i.searchTerms=_),d(_)}),g("ngModelChange",function(_){return m(o),d(i.onSearchTerms(_))}),l()()}e&2&&(r(4),F("ngModel",i.searchTerms),u("placeholder",i.placeholder))},dependencies:[R,pe,W,q],styles:[".search-input-wrap[_ngcontent-%COMP%]{padding:8px 12px;justify-content:flex-start;align-items:center;gap:8px;display:flex;border-radius:6px 6px 0 0;background:#fff;box-shadow:0 1px 2px #0a0d1408}.search-input-wrap[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%]{flex-shrink:0;width:20px;height:20px}.search-input-wrap[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]{flex:1;margin:0;padding:0;width:100%;border:none;outline:none;color:var(--bs-body-color, #000);background:transparent}.search-input-wrap[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]::-webkit-input-placeholder{color:#a3a3a3}.search-input-wrap[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]::-moz-placeholder{color:#a3a3a3}.search-input-wrap[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]:-ms-input-placeholder{color:#a3a3a3}.search-input-wrap[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]::-ms-input-placeholder{color:#a3a3a3}.search-input-wrap[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]::placeholder{color:#a3a3a3}"]})};var _e=n=>({$implicit:n});function we(n,t){n&1&&T(0)}function be(n,t){if(n&1&&(s(0,"ul",6),M(1,we,1,0,"ng-container",8),l()),n&2){a(2);let e=v(6);r(),u("ngTemplateOutlet",e)}}function Pe(n,t){n&1&&T(0)}function Ee(n,t){if(n&1){let e=f();s(0,"ul",9)(1,"div",10)(2,"div",11)(3,"app-search-input",12),g("onSearch",function(o){m(e);let c=a(2);return d(c.onSearchTerms(o))}),l()(),M(4,Pe,1,0,"ng-container",8),l()()}if(n&2){let e=a(2),i=v(6);k(e.listWrapClass),r(3),u("searchTerms",e.cacheSearchTerms),r(),u("ngTemplateOutlet",i)}}function Te(n,t){if(n&1&&y(0,be,2,1,"ul",6)(1,Ee,5,4,"ul",7),n&2){let e=a();x(e.disableSearch?0:1)}}function ve(n,t){n&1&&T(0)}function Oe(n,t){if(n&1&&M(0,ve,1,0,"ng-container",14),n&2){let e=t.$implicit;a(3);let i=v(8);u("ngTemplateOutlet",i)("ngTemplateOutletContext",Z(2,_e,e))}}function Me(n,t){if(n&1&&T(0,13),n&2){a(3);let e=v(12);u("ngTemplateOutlet",e)}}function Ie(n,t){if(n&1&&b(0,Oe,1,4,"ng-container",null,A().trackByUniqueKey,!0,Me,1,1,"ng-container",13),n&2){let e=a(2);P(e.filteredList)}}function ke(n,t){n&1&&T(0)}function De(n,t){if(n&1&&M(0,ke,1,0,"ng-container",14),n&2){let e=t.$implicit;a(3);let i=v(10);u("ngTemplateOutlet",i)("ngTemplateOutletContext",Z(2,_e,e))}}function Ve(n,t){if(n&1&&T(0,13),n&2){a(3);let e=v(12);u("ngTemplateOutlet",e)}}function Ke(n,t){if(n&1&&b(0,De,1,4,"ng-container",null,A().trackByUniqueKey,!0,Ve,1,1,"ng-container",13),n&2){let e=a(2);P(e.filteredList)}}function Le(n,t){if(n&1&&y(0,Ie,3,1)(1,Ke,3,1),n&2){let e=a();x(e.displayKey1?1:0)}}function ze(n,t){if(n&1){let e=f();s(0,"li",15),g("click",function(){let o=m(e).$implicit,c=a();return d(c.onOptionChange(o))}),s(1,"span",16),p(2),l()()}if(n&2){let e=t.$implicit,i=a();O("bg-secondary-subtle",i.isSelected(e)),r(2),C(" ",e," ")}}function Fe(n,t){if(n&1&&(s(0,"small",18),p(1),l()),n&2){let e=a().$implicit,i=a();r(),C(" ",e[i.displayKey2]," ")}}function Be(n,t){if(n&1){let e=f();s(0,"li",15),g("click",function(){let o=m(e).$implicit,c=a();return d(c.onOptionChange(o))}),s(1,"span",17)(2,"span",16),p(3),l(),y(4,Fe,2,1,"small",18),l()()}if(n&2){let e=t.$implicit,i=a();O("bg-secondary-subtle",i.isSelected(e)),r(3),C(" ",e[i.displayKey1]," "),r(),x(i.displayKey2?4:-1)}}function Ne(n,t){if(n&1){let e=f();s(0,"div",19)(1,"span",21),p(2,' create "'),s(3,"span",22),p(4),l(),p(5,'" '),l(),s(6,"button",23),g("click",function(){m(e);let o=a(2);return d(o.onCreateNew())}),p(7," Create "),l()()}if(n&2){let e=a(2);r(4),ae(e.cacheSearchTerms)}}function We(n,t){n&1&&(s(0,"span",20),p(1," no records found "),l())}function qe(n,t){if(n&1&&(s(0,"li"),y(1,Ne,8,1,"div",19)(2,We,2,0,"span",20),l()),n&2){let e=a();r(),x(e.enableCreate&&e.cacheSearchTerms?1:2)}}var ge=class n{placeholder="";optionsList=[];selectedOption;uniqueKey="_id";displayKey1="";displayKey2="";enableCreate=!1;filterKeys=[];disableSameSelect=!1;disableSearch=!1;disabled=!1;listWrapClass="";btnClass="";btnStyle="";onSelect=new h;onCreate=new h;cacheSearchTerms="";filteredList=[];ngOnChanges(t){t.optionsList&&t.optionsList.currentValue&&(this.filteredList=[...this.optionsList||[]],this.cacheSearchTerms&&this.onSearchTerms(this.cacheSearchTerms)),t.selectedOption&&t.selectedOption.currentValue&&(this.selectedOption=t.selectedOption.currentValue)}get displayText(){return this.selectedOption?this.displayKey1&&this.displayKey2?`${this.selectedOption[this.displayKey1]??""} (${this.selectedOption[this.displayKey2]??""})`.trim():this.displayKey1?this.selectedOption[this.displayKey1]??"":this.selectedOption?.toString()??"":""}trackByUniqueKey=(t,e)=>e[this.uniqueKey]??t;onSearchTerms(t){this.cacheSearchTerms=t,t=t?.trim()?.toLowerCase()??"",this.filterKeys.length>0?this.filteredList=this.optionsList?.filter(e=>this.filterKeys.some(i=>e?.[i]?.toLowerCase().includes(t)))||[]:this.filteredList=this.optionsList?.filter(e=>e?.toLowerCase().includes(t))||[]}isSelected(t){return!this.selectedOption||!t?!1:this.uniqueKey?this.selectedOption?.[this.uniqueKey]===t?.[this.uniqueKey]:this.selectedOption===t}onOptionChange(t){if(!(this.disabled||!t)){if(this.selectedOption&&!this.disableSameSelect){if(this.uniqueKey&&this.selectedOption[this.uniqueKey]===t[this.uniqueKey])return;if(this.selectedOption===t)return}this.onSelect.emit(t),this.cacheSearchTerms&&this.onSearchTerms("")}}onCreateNew(){this.disabled||!this.enableCreate||(this.onCreate.emit(this.cacheSearchTerms?.trim()),this.cacheSearchTerms&&this.onSearchTerms(""))}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=w({type:n,selectors:[["app-common-dropdown"]],inputs:{placeholder:"placeholder",optionsList:"optionsList",selectedOption:"selectedOption",uniqueKey:"uniqueKey",displayKey1:"displayKey1",displayKey2:"displayKey2",enableCreate:"enableCreate",filterKeys:"filterKeys",disableSameSelect:"disableSameSelect",disableSearch:"disableSearch",disabled:"disabled",listWrapClass:"listWrapClass",btnClass:"btnClass",btnStyle:"btnStyle"},outputs:{onSelect:"onSelect",onCreate:"onCreate"},features:[K],decls:13,vars:10,consts:[["optionListTemplate",""],["simpleOptionBlock",""],["itemBlock",""],["emptyBlock",""],[1,"dropdown"],["type","button",1,"btn","btn-light","w-100","dropdown-toggle","text-capitalize","selected-option",3,"disabled"],[1,"dropdown-menu","w-100"],[1,"dropdown-menu","pt-0","w-100",3,"class"],[4,"ngTemplateOutlet"],[1,"dropdown-menu","pt-0","w-100"],[1,"search-list-height","position-relative"],[1,"bg-secondary-subtle","position-sticky","top-0","border-bottom","mb-2"],[3,"onSearch","searchTerms"],[3,"ngTemplateOutlet"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"dropdown-item",3,"click"],[1,"text-capitalize","lh-sm","option-item"],[1,"d-flex","flex-column"],[1,"text-capitalize","text-muted","lh-1","option-item"],[1,"d-flex","align-items-center","gap-2","py-1","px-3"],[1,"d-block","py-1","px-3","text-capitalize","text-center","text-muted"],[1,"d-block","text-center","text-muted","flex-grow-1"],[1,"fw-semibold","text-primary"],["type","button",1,"btn","btn-outline-primary","btn-sm",3,"click"]],template:function(e,i){e&1&&(s(0,"div",4)(1,"button",5),p(2),re(3,"translate"),l(),y(4,Te,2,1),l(),M(5,Le,2,1,"ng-template",null,0,D)(7,ze,3,3,"ng-template",null,1,D)(9,Be,5,4,"ng-template",null,2,D)(11,qe,3,1,"ng-template",null,3,D)),e&2&&(r(),oe(i.btnStyle),k(i.btnClass),u("disabled",i.disabled),ne("data-bs-toggle",i.disabled?"":"dropdown"),r(),C(" ",i.selectedOption?i.displayText:se(3,8,i.placeholder)," "),r(2),x(i.disabled?-1:4))},dependencies:[$,le,ce],styles:[".selected-option[_ngcontent-%COMP%], .option-item[_ngcontent-%COMP%]{display:-webkit-box;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis;line-clamp:1;-webkit-line-clamp:1;word-break:break-all;white-space:normal}"]})};function Re(n,t){n&1&&(S(0,"li",8)(1,"span",12),p(2,"..."),E()())}function $e(n,t){if(n&1){let e=f();S(0,"li",3)(1,"button",13),z("click",function(){m(e);let o=a().$implicit,c=a(2);return d(c.onPageChange(o))}),p(2),E()()}if(n&2){let e=a().$implicit,i=a(2);O("active",e===i.currentPage),r(2),C(" ",e," ")}}function Ae(n,t){if(n&1&&y(0,Re,3,0,"li",8)(1,$e,3,3,"li",11),n&2){let e=t.$implicit,i=a(2);x(i.isEllipsis(e)?0:1)}}function He(n,t){n&1&&(S(0,"li",8)(1,"span",12),p(2,"1"),E()())}function Qe(n,t){if(n&1){let e=f();S(0,"nav",0)(1,"small",1),p(2),E(),S(3,"ul",2)(4,"li",3)(5,"button",4),z("click",function(){m(e);let o=a();return d(o.onPageChange(o.currentPage-1))}),I(),S(6,"svg",5),H(7,"path",6)(8,"path",7),E()()(),b(9,Ae,2,1,null,null,L,!1,He,3,0,"li",8),V(),S(12,"li",3)(13,"button",4),z("click",function(){m(e);let o=a();return d(o.onPageChange(o.currentPage+1))}),I(),S(14,"svg",5),H(15,"path",9)(16,"path",10),E()()()()()}if(n&2){let e=a();r(2),C(" ",e.showingEntriesText," "),r(2),O("disabled",e.currentPage===1),r(),Q("disabled",e.currentPage===1),r(4),P(e.pages),r(3),O("disabled",e.currentPage===e.totalPages),r(),Q("disabled",e.currentPage===e.totalPages)}}var he=class n{totalPages=1;totalEntries=0;currentPage=1;pageSize=10;pageChange=new h;pages=[];gap=2;maxPageCount=5;ngOnChanges(t){(t.totalPages?.currentValue||t.currentPage?.currentValue||t.pageSize?.currentValue||t.totalEntries?.currentValue)&&(this.totalPages=this.totalEntries>0?Math.ceil(this.totalEntries/this.pageSize):1,this.calculatePages())}calculatePages(){this.pages=[];let t=[];this.totalPages>1&&this.pages.push(1),this.currentPage-this.gap>2&&this.pages.push(-this.pages.length-1);let e=Math.max(2,this.currentPage-this.gap),i=Math.min(this.totalPages-1,this.currentPage+this.gap);for(let o=e;o<=i;o++)this.pages.push(o);this.currentPage+this.gap<this.totalPages-1&&this.pages.push(-this.pages.length-1),this.totalPages>1&&this.pages.push(this.totalPages)}onPageChange(t){t!==this.currentPage&&t>=1&&t<=this.totalPages&&(this.currentPage=t,this.pageChange.emit(t),this.calculatePages())}isEllipsis(t){return t<0}get showingEntriesText(){let t=(this.currentPage-1)*this.pageSize+1,e=Math.min(this.currentPage*this.pageSize,this.totalEntries);return`Showing ${t} to ${e} of ${this.totalEntries} entries`}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=w({type:n,selectors:[["app-pagination"]],inputs:{totalPages:"totalPages",totalEntries:"totalEntries",currentPage:"currentPage",pageSize:"pageSize"},outputs:{pageChange:"pageChange"},features:[K],decls:1,vars:1,consts:[["aria-label","Page navigation",1,"d-flex","gap-2","align-items-center","flex-wrap"],[1,"me-auto","text-muted"],[1,"pagination","justify-content-center","m-0","user-select-none"],[1,"page-item"],[1,"page-link",3,"click","disabled"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24",1,"d-block"],["d","m12.707 7.707-1.414-1.414L5.586 12l5.707 5.707 1.414-1.414L8.414 12z","fill","currentColor"],["d","M16.293 6.293 10.586 12l5.707 5.707 1.414-1.414L13.414 12l4.293-4.293z","fill","currentColor"],[1,"page-item","disabled"],["d","M10.296 7.71 14.621 12l-4.325 4.29 1.408 1.42L17.461 12l-5.757-5.71z","fill","currentColor"],["d","M6.704 6.29 5.296 7.71 9.621 12l-4.325 4.29 1.408 1.42L12.461 12z","fill","currentColor"],[1,"page-item",3,"active"],[1,"page-link"],[1,"page-link",3,"click"]],template:function(e,i){e&1&&y(0,Qe,17,8,"nav",0),e&2&&x(i.totalEntries!==0?0:-1)},encapsulation:2})};function je(n,t){if(n&1&&(s(0,"option",3),p(1),l()),n&2){let e=t.$implicit;u("value",e),r(),C(" ",e," ")}}var fe=class n{options=[10,25,50,75,100];pageSize=10;selectClass="";pageSizeChange=new h;onEntriesPerPageChange(t){this.pageSizeChange.emit(parseInt(t.target.value,10))}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=w({type:n,selectors:[["app-entries-per-page-selector"]],inputs:{options:"options",pageSize:"pageSize",selectClass:"selectClass"},outputs:{pageSizeChange:"pageSizeChange"},decls:6,vars:3,consts:[[1,"d-flex","align-items-center","gap-3"],["for","entriesPerPage",1,"form-label","m-0"],["id","entriesPerPage",1,"form-select","d-inline-block","w-auto",3,"change","ngModelChange","ngModel"],[3,"value"]],template:function(e,i){e&1&&(s(0,"div",0)(1,"label",1),p(2,"Show"),l(),s(3,"select",2),g("change",function(c){return i.onEntriesPerPageChange(c)}),N("ngModelChange",function(c){return B(i.pageSize,c)||(i.pageSize=c),c}),b(4,je,2,2,"option",3,L),l()()),e&2&&(r(3),k(i.selectClass),F("ngModel",i.pageSize),r(),P(i.options))},dependencies:[R,de,ue,me,W,q],styles:["[_nghost-%COMP%]{display:contents}"]})};export{$ as a,ge as b,he as c,fe as d};
